<header class="w-full border-b border-zinc-700 py-0 mb-6">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <nav class="space-x-6">
      <a href="/products/" class="text-gray-100 hover:text-white">Products</a>
      <a href="/story/" class="text-gray-300 hover:text-white">Our Story</a>
      <a href="/contact/" class="text-gray-300 hover:text-white">Contact</a>
	  <a href="/pricing/" class="text-gray-300 hover:text-white">Pricing</a>
    </nav>
  </div>
<meta property="og:title" content="{{ .Title }}" />
<meta property="og:description" content="{{ .Params.description | default "Check out this product!" }}" />
<meta property="og:type" content="product" />
<meta property="og:url" content="{{ .Permalink }}" />

{{/* --- Robust OG image resolver (safe on any page) --- */}}
{{- $pg := . -}}
{{- $img := false -}}   {{/* use false as "empty" sentinel instead of nil */}}

{{/* 1) Only if page has Resources */}}
{{- with .Resources }}
  {{- $res := . -}}
  {{- with $pg.Params.default_color }}
    {{- $name := . -}}
    {{- $img = or
        ($res.GetMatch (printf "%s.jpg"  $name))
        ($res.GetMatch (printf "%s.jpeg" $name))
        ($res.GetMatch (printf "%s.png"  $name))
        ($res.GetMatch (printf "%s.webp" $name))
    -}}
  {{- end -}}

  {{/* 2) Fallback: first image in this bundle */}}
  {{- if not $img -}}
    {{- $imgs := first 1 ($res.ByType "image") -}}
    {{- if $imgs -}}
      {{- $img = index $imgs 0 -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

{{/* 3) Output OG tags */}}
{{- if $img -}}
  {{- $og := $img.Fill "1200x630 q95 jpg" -}}
  <meta property="og:image" content="{{ $og.Permalink }}" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
{{- else -}}
  <meta property="og:image" content="{{ printf "%simages/og-fallback.jpg" $pg.Site.BaseURL }}" />
  <meta property="og:image:type" content="image/jpeg" />
{{- end -}}





</header>
{{ if hugo.IsProduction }}
  {{ with .Site.Params.googleAnalytics }}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ . }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ . }}');
    </script>
  {{ end }}
{{ end }}